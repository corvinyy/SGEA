{% extends 'usuarios/base2.html' %}
{% load static %}

{% block title %}Cadastre-se - Casa de Atena{% endblock %}
{% block content %}

{% if messages %}
    <ul class="messages">
        {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
{% endif %}

    <form action = "{% url 'cadastro' %}" method = "post"> 
        {% csrf_token %}
            <div class='cadastroUsu-container'>

                <div class="formulario-cadastroUsu">
                  <div class="cadastroUsu-titulo">
                    <h1>Cadastre-se</h1>
                  </div>

                  <div class="form-cadastroUsu-linha">
                      <div class="form-cadastroUsu-grupo">
                        <label>Nome</label>
                        <input name = "nome" class = "form-control-sm" value="{{ nome_preenchido|default:'' }}" type = "text" required style="width: 220px">
                      </div> 

                      <div class="form-cadastroUsu-grupo">
                        <label>Sobrenome</label>
                        <input name = "sobrenome" class = "form-control-sm" value="{{ sobrenome_preenchido|default:'' }}" type = "text" required style="width: 220px">
                      </div> 
                  </div>

                  <div class="form-cadastroUsu-linha">
                      <div class="form-cadastroUsu-grupo">
                        <label>Senha</label>
                        <input name = "senha" class = "form-control-sm" value="{{ senha_preenchida|default:'' }}" type = "text" required style="width: 220px">
                      </div> 
                
                      <div class="form-cadastroUsu-grupo">
                        <label>Confirmar senha</label>
                        <input name = "confirmar_senha" class = "form-control-sm" type = "text" required style="width: 220px">
                      </div> 
                  </div>

                  <div class="form-cadastroUsu-linha">
                      <div class="form-cadastroUsu-grupo">
                        <label>Email</label>
                        <input name = "email" class = "form control-sm" value="{{ email_preenchido|default:'' }}" type = "text" required style="width: 220px">
                      </div>

                      <div class="form-cadastroUsu-grupo">
                        <label>Telefone</label>
                        <input name = "telefone" class = "form control-sm" value="{{ telefone_preenchido|default:'' }}" type = "text" required style="width: 220px" placeholder="XX XXXXX-XXXX">
                      </div>  
                  </div>

                  <div class="form-cadastroUsu-linha">
                    <div class="form-cadastroUsu-grupo">
                      <label for = "ensi">Instituição de ensino</label>
                      <select name = "ensi" id = "ensi" required style="width: 220px">
                        <option value="" disabled selected hidden style='display : none'>Selecione</option>
                          <option value = "CEUB" {% if instituicao_preenchida == 'CEUB' %} selected {% endif %}> CEUB </option>  
                          <option value = "UNIEURO" {% if instituicao_preenchida == 'UNIEURO' %} selected {% endif %}> UNIEURO </option>
                          <option value = "IFB" {% if instituicao_preenchida == 'IFB' %} selected {% endif %}> IFB </option>
                          <option value = "UNB"{% if instituicao_preenchida == 'UNB' %} selected {% endif %} > UNB </option>
                          <option value = "CATOLICA" {% if instituicao_preenchida == 'CATOLICA' %} selected {% endif %}> CATOLICA </option>
                          <option value = "UNIPLAN" {% if instituicao_preenchida == 'UNIPLAN' %} selected {% endif %}> UNIPLAN </option>
                          <option value = "IESB"{% if instituicao_preenchida == 'IESB' %} selected {% endif %}> IESB </option>
                          <option value = "UDF" {% if instituicao_preenchida == 'UDF' %} selected {% endif %}> UDF </option>
                          <option value = "UPIS" {% if instituicao_preenchida == 'UPIS' %} selected {% endif %}> UPIS </option>
                      </select>
                    </div>

                    <div class="form-cadastroUsu-grupo">
                      <label for="tipo">Você é</label>
                        <select name="tipo" id="tipo" onchange="mostrarCampoSenha()" class = "form control-sm" style="width: 220px">
                            <option value="" disabled selected>Selecione</option>
                            <option value="estudante">Estudante</option>
                            <option value="professor">Professor</option>
                            <option value="organizador">Organizador</option>
                        </select>
                    </div>
                  </div>
                  
                  <div class="form-cadastroUsu-linha">
                    <div class="form-cadastroUsu-grupo" id="campoSenhaAcesso" style="display:none;" style="width: 220px" >
                        <label for="senha_acesso">Senha de acesso</label>
                        <input type="password" name="senha_acesso" id="senha_acesso" style="width: 220px">
                    </div>
                  </div>

                  <div class="botao-enviar-cadastroUsu">
                    <button class = "form-control-sm" id="botao-enviar-cadastroUsu">Cadastrar</button>
                  </div> 
                </div>

                <div class="ja-possui-conta">
                  <h1>Já possui uma conta?</h1>
                  <a href = "{% url 'login' %}" class="ir-login">
                    Login
                  </a>
                </div>

            </div>
    </form>

    {% if toast_msg %}
      <script>
          window.toastMessage = "{{ toast_msg|escapejs }}";
          window.toastBackground = "{{ toast_bg|escapejs }}";
      </script>
    {% endif %}
{% endblock %}


